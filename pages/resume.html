<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" />
    <title>Resume - Frederick Valle</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link href="../styles.css" rel="stylesheet" />
    <script src="../build/pdf.js"></script>
    <!-- <link rel="stylesheet" href="/web/viewer.css" /> -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <script>
      function includeHTML(callback) {
        var z, i, elmnt, file, xhttp;
        z = document.getElementsByTagName("*");
        var remainingRequests = 0; // Track the number of remaining requests

        for (i = 0; i < z.length; i++) {
          elmnt = z[i];
          file = elmnt.getAttribute("include-html");
          if (file) {
            remainingRequests++; // Increment for each request being made
            xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
              if (this.readyState == 4) {
                remainingRequests--; // Decrement when a request completes
                if (this.status == 200) {
                  elmnt.innerHTML = this.responseText;
                  if (elmnt.id === "navbarText") {
                    document.getElementById("resume").classList.add("active");
                    document.getElementById("resume").setAttribute("aria-current", "page");
                  }
                }
                if (this.status == 404) {
                  elmnt.innerHTML = "Page not found.";
                }
                elmnt.removeAttribute("include-html");
                includeHTML(callback); // Call again for any remaining elements
              }
            };
            xhttp.open("GET", file, true);
            xhttp.send();
            return; // Exit the function after initiating the request
          }
        }

        // If there are no remaining requests, call the callback
        if (remainingRequests === 0 && callback) {
          callback();
        }
      }

      document.addEventListener("DOMContentLoaded", (event) => {
        var loadingScreen = document.querySelector(".loadingScreen");
        var content = document.querySelector(".container-fluid");
        var contentStyle = content.style.display;

        content.style.display = "none";

        window.onload = function () {
          includeHTML(() => {
            loadingScreen.style.display = "none";
          });
          content.style.display = contentStyle;

          setTimeout(() => {
            window.scrollTo(0, 0);
          }, 10);
        };
        // Call includeHTML with a callback to hide the loading screen
      });
    </script>
  </head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HY6TFF3YN7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-HY6TFF3YN7");
  </script>
  <body id="container">
    <div class="sticky-top" include-html="/nav.html" id="navbarText"></div>
    <div class="loadingScreen">
      <object data="/img/Eclipse.svg"></object>
    </div>
    <div include-html="/background.html "></div>
    <div class="container-fluid" style="min-height: 100vh; padding: 0 50px">
      <div class="row mt-4">
        <div class="col-12">
          <div class="text-center text-white text-shadow animate__animated animate__fadeInUp">
            <h1 style="padding-bottom: 10px">Take a look at my resume:</h1>
            <iframe
              id="pdf-js-viewer"
              src="/web/viewer.html?file=../docs/Frederick_Valle_Resume.pdf"
              title="webviewer"
              frameborder="0"
              width="100%"
              height="800"
            ></iframe>
            <p>If you have trouble seeing the file, please:</p>
            <p><a href="/docs/Frederick_Valle_Resume.pdf" download="Frederick_Valle_Resume">Download Instead</a></p>
          </div>
        </div>
      </div>
    </div>
    <div include-html="/footer.html"></div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
